{"version":3,"sources":["hooks/useCookie.js","components/Views/Signin.js","components/Views/Signup.js","redux/actionCreator.js","redux/actionTypes.js","hooks/useLongPress.js","components/Views/contacts/Contacts.js","hooks/usePersistedState.js","components/Views/chat/Chat.js","components/Views/recorder/Recorder.js","components/Views/user/User.js","redux/reducers/reciepient.js","redux/reducers/message.js","redux/reducers/history.js","redux/reducers/loggedInUser.js","App.js","redux/configureStore.js","serviceWorker.js","index.js"],"names":["setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","delete_cookie","name","getCookie","ca","split","i","length","c","charAt","substring","indexOf","Signin","useState","username","setUsername","password","setPassword","value","history","useHistory","useSpeechSynthesis","speak","voices","voice","forEach","v","lang","useEffect","user","checkCookie","console","log","fetch","method","headers","credentials","body","JSON","stringify","then","response","json","data","error","text","M","toast","html","localStorage","setItem","token","push","catch","Card","className","classsname","Row","InputGroup","Col","xs","FormControl","style","margin","type","placeholder","onChange","e","target","Button","onClick","to","display","justifyContent","Signup","phone","setPhone","setName","classname","message","updateHistory","new_history","payload","updateLoggedInUser","new_user","loggedinUser","updateMessage","new_message","from","enc","preventDefault","event","isTouchEvent","touches","useLongPress","onLongPress","shouldPreventDefault","delay","longPressTriggered","setLongPressTriggered","timeout","useRef","start","useCallback","addEventListener","passive","current","setTimeout","clear","shouldTriggerClick","clearTimeout","removeEventListener","onMouseDown","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","Contacts","props","historys","dispatch","useDispatch","userLoggedIn","useSelector","state","reciepient","loggedInUser","list","setList","frndlist","setFrndList","online","setOnline","key","defaultValue","React","persistedState","getItem","parse","setState","window","usePersistedState","ptr","setPtr","newContact","setNewContact","verifyContact","setVerifyContact","useSpeechRecognition","onResult","result","replace","onEnd","sayThis","join","listen","listening","stop","longPressEvent","addContact","startListening","stopListening","status","a","res","err","setInterval","anyFunction","flag","friend","logout","reciepientName","Chat","myHeaders","Headers","append","raw","recipient","requestOptions","redirect","readMessage","msg","undefined","toUpperCase","slice","Promise","resolve","Audio","play","render","startRecording","stopRecording","mediaBlobUrl","end","r","blob","reader","FileReader","readAsDataURL","onloadend","base64data","Recorder","sendMessage","User","useParams","server","ws","WebSocket","ws_server","buffer","getHistory","onerror","onmessage","Accept","resp","close","timestamp","now","send","includes","Reciepient","action","n_reciepient","Message","History","LoggedinUser","new_logggedInUser","appHistory","createBrowserHistory","store","createStore","combineReducers","composeWithDevTools","App","exact","path","Component","Boolean","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4816afca.chunk.js","sourcesContent":["export function setCookie(cname, cvalue, exdays) {\n\tvar d = new Date();\n\td.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n\tvar expires = \"expires=\" + d.toUTCString();\n\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function delete_cookie(name) {\n\tdocument.cookie = name + \"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n}\n\nexport function getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar ca = document.cookie.split(\";\");\n\tfor (var i = 0; i < ca.length; i++) {\n\t\tvar c = ca[i];\n\t\twhile (c.charAt(0) == \" \") {\n\t\t\tc = c.substring(1);\n\t\t}\n\t\tif (c.indexOf(name) == 0) {\n\t\t\treturn c.substring(name.length, c.length);\n\t\t}\n\t}\n\treturn \"\";\n}\n\nexport function checkCookie() {\n\tvar user = getCookie(\"username\");\n\tvar pass = getCookie(\"password\");\n\tif (user != \"\") {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t\t// user = prompt(\"Please enter your name:\", \"\");\n\t\t// if (user != \"\" && user != null) {\n\t\t// \tsetCookie(\"username\", user, 365);\n\t\t// }\n\t}\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { setCookie, getCookie, checkCookie } from \"../../hooks/useCookie\";\nimport M from \"materialize-css\";\nimport \"./auth.css\";\nimport {\n\tCard,\n\tRow,\n\tCol,\n\tInputGroup,\n\tFormControl,\n\tButton,\n} from \"react-bootstrap\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\n\nconst Signin = () => {\n\tconst [username, setUsername] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [value, setValue] = useState(\"\");\n\tconst history = useHistory();\n\tconst { speak, voices } = useSpeechSynthesis();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-IN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (checkCookie()) {\n\t\t\tlet voice = null;\n\t\t\tvoices.forEach((v) => {\n\t\t\t\tif (v.lang === \"hi-IN\") {\n\t\t\t\t\tvoice = v;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst username = getCookie(\"username\");\n\t\t\tconst password = getCookie(\"password\");\n\t\t\tconsole.log(username);\n\t\t\tconsole.log(password);\n\t\t\tfetch(\"http://stormy-tundra-81519.herokuapp.com/auth/login\", {\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tusername,\n\t\t\t\t\tpassword,\n\t\t\t\t}),\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tspeak({\n\t\t\t\t\t\t\ttext: `Unable to sign in. ${data.error}`,\n\t\t\t\t\t\t\tvoice,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tM.toast({ html: data.error });\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tspeak({\n\t\t\t\t\t\t\ttext: `Signed in successfully as ${username}!`,\n\t\t\t\t\t\t\tvoice,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tM.toast({ html: \"Signed in successfully!\" });\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(data.user));\n\t\t\t\t\t\thistory.push(\"/usr/contacts\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.log(\"error\", error));\n\t\t}\n\t}, [value]);\n\n\tconst postInfo = () => {\n\t\tfetch(\"http://stormy-tundra-81519.herokuapp.com/auth/login\", {\n\t\t\tmethod: \"post\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error) {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Unable to sign in. ${data.error}`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: data.error });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Signed in successfully as ${username}!`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: \"Signed in successfully!\" });\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(data.user));\n\t\t\t\t\tsetCookie(\"username\", username, 365 * 10);\n\t\t\t\t\tsetCookie(\"password\", password, 365 * 10);\n\t\t\t\t\thistory.push(\"/usr/contacts\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => console.log(\"error\", error));\n\t};\n\n\treturn (\n\t\t<Card className=\"mycard\">\n\t\t\t<div classsname=\"card auth-card\">\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<h2 className=\"brand-logo\">Login</h2>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tstyle={{ margin: \"5px 5px 5px 5px\" }}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tstyle={{ margin: \"5px 5px 5px 5px\" }}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => postInfo()}\n\t\t\t\t\t\t\tclassName=\"btn-s waves-effect waves-light\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSignin{\" \"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Link to=\"/signup\">Dont have an account?</Link>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: \"flex\", justifyContent: \"space-around\" }}\n\t\t\t\t\t></div>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t</Card>\n\t);\n};\n\nexport default Signin;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { Card, Row, InputGroup, FormControl, Button } from \"react-bootstrap\";\nimport { Person } from \"@material-ui/icons\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\n\nconst Signup = () => {\n\tconst [username, setUsername] = useState(\"\");\n\tconst [phone, setPhone] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [name, setName] = useState(\"\");\n\tconst history = useHistory();\n\tconst { speak, voices } = useSpeechSynthesis();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-IN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tconst postInfo = () => {\n\t\tfetch(\"http://stormy-tundra-81519.herokuapp.com/register\", {\n\t\t\tmethod: \"post\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t\tname,\n\t\t\t\tphone,\n\t\t\t}),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error) {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Unable to register. ${data.error}`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: data.error });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Successfully registered with username ${username}`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: data.message });\n\t\t\t\t\thistory.push(\"/signin\");\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<Card className=\"mycard\">\n\t\t\t<div classsname=\"card auth-card\">\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<h2 className=\"brand-logo\">Signup</h2>\n\t\t\t\t</Row>\n\t\t\t\t{/* <Row className=\"justify-content-center\">\n                    <Person className=\"icon-person\" style={{ fontSize: 120 }} />\n                </Row> */}\n\t\t\t\t<InputGroup>\n\t\t\t\t\t<Row classname=\"justify-content-center\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Phone\"\n\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\tonChange={(e) => setPhone(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"btn-s waves-effect waves-light\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tonClick={() => postInfo()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSignup\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Link to=\"/signin\">Already have an account?</Link>\n\t\t\t\t\t</Row>\n\t\t\t\t</InputGroup>\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-around\" }}></div>\n\t\t\t</div>\n\t\t</Card>\n\t);\n};\n\nexport default Signup;\n","import * as actionTypes from './actionTypes';\n\nexport const updateReciepient = (reciepientName) => ({\n    type: actionTypes.UPDATE_RECPNT,\n    payload: {\n        reciepientName:reciepientName,\n    }\n})\n\nexport const updateHistory = (new_history) => ({\n    type:actionTypes.UPDATE_HSTR,\n    payload: {\n        history:new_history,\n    }\n})\nexport const updateLoggedInUser = (new_user) => ({\n    type:actionTypes.UPDATE_LGINUSR,\n    payload: {\n        loggedinUser:new_user,\n    }\n})\nexport const updateMessage = (new_message) => ({\n    type:actionTypes.UPDATE_MSG,\n    payload: {\n        from:new_message.from,\n        to:new_message.to,\n        text:new_message.text,\n        type:new_message.type,\n        enc:new_message.enc\n    }\n})","export const UPDATE_RECPNT = \"Update_reciepient\";\nexport const UPDATE_HSTR = \"Update_history\";\nexport const UPDATE_LGINUSR = \"Update_loggedInUser\";\nexport const UPDATE_MSG = \"Update_message\";","import { useCallback, useRef, useState } from \"react\";\n\nconst useLongPress = (\n    onLongPress,\n    onClick,\n    { shouldPreventDefault = true, delay = 300 } = {}\n) => {\n    const [longPressTriggered, setLongPressTriggered] = useState(false);\n    const timeout = useRef();\n    const target = useRef();\n\n    const start = useCallback(\n        (event) => {\n            if (shouldPreventDefault && event.target) {\n                event.target.addEventListener(\"touchend\", preventDefault, {\n                    passive: false,\n                });\n                target.current = event.target;\n            }\n            timeout.current = setTimeout(() => {\n                onLongPress(event);\n                setLongPressTriggered(true);\n            }, delay);\n        },\n        [onLongPress, delay, shouldPreventDefault]\n    );\n\n    const clear = useCallback(\n        (event, shouldTriggerClick = true) => {\n            timeout.current && clearTimeout(timeout.current);\n            shouldTriggerClick && !longPressTriggered && onClick();\n            setLongPressTriggered(false);\n            if (shouldPreventDefault && target.current) {\n                target.current.removeEventListener(\"touchend\", preventDefault);\n            }\n        },\n        [shouldPreventDefault, onClick, longPressTriggered]\n    );\n\n    return {\n        onMouseDown: (e) => start(e),\n        onTouchStart: (e) => start(e),\n        onMouseUp: (e) => clear(e),\n        onMouseLeave: (e) => clear(e, false),\n        onTouchEnd: (e) => clear(e),\n    };\n};\n\nconst isTouchEvent = (event) => {\n    return \"touches\" in event;\n};\n\nconst preventDefault = (event) => {\n    if (!isTouchEvent(event)) return;\n\n    if (event.touches.length < 2 && event.preventDefault) {\n        event.preventDefault();\n    }\n};\n\nexport default useLongPress;\n\n// export default function App() {\n\n//     const onLongPress = () => {\n//         console.log('longpress is triggered');\n//     };\n\n//     const onClick = () => {\n//         console.log('click is triggered')\n//     }\n\n//     const defaultOptions = {\n//         shouldPreventDefault: true,\n//         delay: 500,\n//     };\n//     const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\n\n//     return (\n//         <div className=\"App\">\n//             <button {...longPressEvent}>use  Loooong  Press</button>\n//         </div>\n//     );\n// }\n","import React, { useState, useEffect } from \"react\";\nimport M from \"materialize-css\";\nimport \"./contacts.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { updateReciepient } from \"../../../redux/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSpeechSynthesis, useSpeechRecognition } from \"react-speech-kit\";\nimport usePersistedState from \"../../../hooks/usePersistedState\";\nimport { delete_cookie } from \"../../../hooks/useCookie\";\nimport useLongPress from \"../../../hooks/useLongPress\";\n\nconst Contacts = (props) => {\n    const historys = useHistory();\n    const dispatch = useDispatch();\n    const reciepient = useSelector((state) => state.reciepient);\n    const history = useSelector((state) => state.history);\n    const userLoggedIn = useSelector((state) => state.loggedInUser);\n    const [list, setList] = useState([]);\n    const [frndlist, setFrndList] = useState([]);\n    const [online, setOnline] = useState([userLoggedIn]);\n    const [ptr, setPtr] = usePersistedState(\"ptr\", 0);\n    const { speak, voices } = useSpeechSynthesis();\n    const [newContact, setNewContact] = useState(\"\");\n    const [verifyContact, setVerifyContact] = useState(false);\n    const { listen, listening, stop } = useSpeechRecognition({\n        onResult: (result) => {\n            setNewContact(result.replace(/[^\\d]/g, \"\"));\n        },\n        onEnd: () => {\n            // call the add contact thing from here\n            console.log(\"Final number:\", newContact);\n            if (newContact.length === 10) {\n                sayThis(\n                    `The number recorded is ${newContact\n                        .split(\"\")\n                        .join(\n                            \" \"\n                        )}. Click to accept and long press to reject it.`\n                );\n                // Confirm if the number is correct\n\n                // if yes\n                setVerifyContact(true);\n                // addContact();\n            } else {\n                sayThis(\"Invalid entry. Please record the number again.\");\n            }\n        },\n    });\n\n\tconst onLongPressAddContact = () => {\n\t\tsayThis(\"Discarding number.\");\n\t\tsetVerifyContact(false);\n\t\tsetNewContact('');\n\t}\n\n\tconst onClickAddContact = () => {\n\t\tsayThis(\"Adding contact...\");\n\t\taddContact().then(() => {\n\t\t\tsayThis(\"Number added to friend list.\");\n\t\t\tsetVerifyContact(false);\n\t\t\tsetNewContact('');\n\t\t})\n\t}\n\n\tconst defaultOptions = {\n        shouldPreventDefault: true,\n        delay: 300,\n    };\n\n\tconst longPressEvent = useLongPress(onLongPressAddContact, onClickAddContact, defaultOptions);\n\n    const startListening = () => {\n        if (!listening) listen();\n    };\n\n    const stopListening = () => {\n        if (listening) stop();\n    };\n\n    let voice = null;\n    voices.forEach((v) => {\n        if (v.lang === \"hi-EN\") {\n            voice = v;\n        }\n    });\n\n    var status = \"\";\n\n    useEffect(() => {\n        async function anyFunction() {\n            await fetch(\"http://stormy-tundra-81519.herokuapp.com/contacts\", {\n                method: \"get\",\n                headers: {\n                    \"Content-type\": \"application/json\",\n                },\n            })\n                .then((res) => res.json())\n                .then((data) => {\n                    setList(data);\n                });\n\n            setTimeout(async () => {\n                await fetch(\n                    \"http://stormy-tundra-81519.herokuapp.com/contacts/friends\",\n                    {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                        body: JSON.stringify({\n                            username: props.loggedinUser,\n                        }),\n                    }\n                )\n                    .then((response) => response.json())\n                    .then((data) => {\n                        setFrndList(data);\n                    })\n                    .catch((err) => console.log(err));\n            }, 50);\n\n            setInterval(async () => {\n                await fetch(\n                    \"http://stormy-tundra-81519.herokuapp.com/message/clients\",\n                    {\n                        method: \"GET\",\n                    }\n                )\n                    .then((response) => response.json())\n                    .then((data) => {\n                        setOnline(data);\n                    });\n            }, 500);\n        }\n        anyFunction();\n    }, [props.loggedinUser, frndlist]);\n\n    // const getHistory = async () => {\n    // \tvar myHeaders = new Headers();\n    // \tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n    // \tvar raw = JSON.stringify({\n    // \t\tto: reciepient,\n    // \t\tfrom: props.loggedinUser,\n    // \t});\n\n    // \tvar requestOptions = {\n    // \t\tmethod: \"POST\",\n    // \t\theaders: myHeaders,\n    // \t\tbody: raw,\n    // \t\tredirect: \"follow\",\n    // \t\tcredentials: \"include\",\n    // \t};\n\n    // \tawait fetch(\"http://stormy-tundra-81519.herokuapp.com/message/history\", requestOptions)\n    // \t\t.then((response) => response.json())\n    // \t\t.then(async (result) => {\n    // \t\t\tdispatch(updateHistory(result));\n    // \t\t\tconsole.log(\"history from contact: \", history);\n    // \t\t})\n    // \t\t.catch((error) => console.log(\"error\", error));\n    // };\n\n    const addContact = async () => {\n        await fetch(\"http://stormy-tundra-81519.herokuapp.com/contacts\", {\n            method: \"get\",\n            headers: {\n                \"Content-type\": \"application/json\",\n            },\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                setList(data);\n                console.log(data);\n            });\n        var flag = false;\n        list.forEach(async (user) => {\n            if (\n                user.username !== props.loggedinUser &&\n                user.phone === newContact\n            ) {\n                flag = true;\n                await fetch(\n                    \"http://stormy-tundra-81519.herokuapp.com/contacts/addcontact\",\n                    {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                        body: JSON.stringify({\n                            username: props.loggedinUser,\n                            friend: user.username,\n                        }),\n                    }\n                )\n                    .then((response) => response.json())\n                    .then((data) => console.log(data))\n                    .catch((err) => console.log(err));\n\n                await fetch(\n                    \"http://stormy-tundra-81519.herokuapp.com/contacts/friends\",\n                    {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                        body: JSON.stringify({\n                            username: props.loggedinUser,\n                        }),\n                    }\n                )\n                    .then((response) => response.json())\n                    .then((data) => {\n                        setFrndList(data);\n                        console.log(\"friendlist\", data);\n                    })\n                    .catch((err) => console.log(err));\n            }\n            return;\n        });\n        if (flag === false) {\n            sayThis(\"User doesnt exist\");\n            M.toast({ html: \"User doesnt exist!!\" });\n        }\n        return;\n    };\n\n    const sayThis = (data) => {\n        speak({\n            text: data,\n            voice,\n        });\n        M.toast({ html: data });\n    };\n\n    return (\n        <div className=\"maindiv\">\n            <div className=\"buttons\">\n                <div\n                    className=\"top-left button\"\n                    onClick={() => {\n                        if (frndlist.length !== 0) {\n                            if (ptr == 0) {\n                                setPtr(frndlist.length - 1);\n                                console.log(frndlist[frndlist.length - 1]);\n                                if (\n                                    online.indexOf(\n                                        frndlist[frndlist.length - 1].username\n                                    ) > -1\n                                ) {\n                                    status = \" online\";\n                                } else {\n                                    status = \" not online\";\n                                }\n                                sayThis(\n                                    frndlist[frndlist.length - 1].username +\n                                        status\n                                );\n                            } else {\n                                setPtr(ptr - 1);\n                                console.log(frndlist[ptr - 1]);\n\n                                if (\n                                    online.indexOf(frndlist[ptr - 1].username) >\n                                    -1\n                                ) {\n                                    status = \" online\";\n                                } else {\n                                    status = \" not online\";\n                                }\n                                sayThis(frndlist[ptr - 1].username + status);\n                            }\n                        } else {\n                            sayThis(\n                                \"You have no friends, Add new friends using the center button!\"\n                            );\n                        }\n                    }}\n                >\n                    Left\n                </div>\n                <div\n                    className=\"top-right button\"\n                    onClick={() => {\n                        if (frndlist.length !== 0) {\n                            if (ptr == frndlist.length - 1) {\n                                setPtr(0);\n                                console.log(frndlist[0]);\n\n                                if (online.indexOf(frndlist[0].username) > -1) {\n                                    status = \" online\";\n                                } else {\n                                    status = \" not online\";\n                                }\n                                sayThis(frndlist[0].username + status);\n                            } else {\n                                setPtr(ptr + 1);\n                                console.log(frndlist[ptr + 1]);\n                                if (\n                                    online.indexOf(frndlist[ptr + 1].username) >\n                                    -1\n                                ) {\n                                    status = \" online\";\n                                } else {\n                                    status = \" not online\";\n                                }\n                                sayThis(frndlist[ptr + 1].username + status);\n                            }\n                        } else {\n                            sayThis(\n                                \"You have no friends, Add new friends using the center button\"\n                            );\n                        }\n                    }}\n                >\n                    Right\n                </div>\n                <div\n                    className=\"bottom-left button\"\n                    onClick={() => {\n                        localStorage.setItem(\"ptr\", 0);\n                        delete_cookie(\"username\");\n                        delete_cookie(\"password\");\n                        props.logout();\n                    }}\n                >\n                    Logout\n                </div>\n                <div\n                    className=\"bottom-right button\"\n                    onClick={() => {\n                        if (frndlist !== []) {\n                            if (frndlist[ptr].username === props.loggedinUser) {\n                                sayThis(\"You cant chat with yourself. LONER!\");\n                            } else {\n                                dispatch(\n                                    updateReciepient(frndlist[ptr].username)\n                                );\n                                sayThis(\n                                    `Entering chat with ${frndlist[ptr].username}`\n                                );\n                                historys.push(\"/usr/chat\");\n                            }\n                        } else {\n                            sayThis(\n                                \"You have no friends. Add new friends using the center button!\"\n                            );\n                        }\n                    }}\n                >\n                    Chat\n                </div>\n                {verifyContact ? (\n                    <div className=\"center\" {...longPressEvent}>\n\t\t\t\t\t\tVerify contact..\n\t\t\t\t\t</div>\n                ) : (\n                    <div\n                        className=\"center\"\n                        onTouchStart={startListening}\n                        onTouchEnd={stopListening}\n                        onMouseDown={startListening}\n                        onMouseUp={stopListening}\n                        onMouseLeave={stopListening}\n                    >\n                        {listening ? \"Listening...\" : \"Add\"}\n                    </div>\n                )}\n            </div>\n            <div\n                className=\"current\"\n                onClick={() => {\n                    sayThis(\n                        `You are on Contacts page. ${\n                            frndlist !== []\n                                ? `The contacts pointer is on ${frndlist[ptr].username}`\n                                : `You have no friends, add new friends using the center button.`\n                        }`\n                    );\n                }}\n            >\n                Current\n            </div>\n        </div>\n    );\n};\n\nexport default Contacts;\n","import React from \"react\";\n\nexport default function usePersistedState(key, defaultValue) {\n\tconst [state, setState] = React.useState(() => {\n\t\tconst persistedState = localStorage.getItem(key);\n\t\treturn persistedState ? JSON.parse(persistedState) : defaultValue;\n\t});\n\tReact.useEffect(() => {\n\t\twindow.localStorage.setItem(key, JSON.stringify(state));\n\t}, [state, key]);\n\treturn [state, setState];\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { updateHistory, updateMessage } from \"../../../redux/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\nimport { ReactMediaRecorder } from \"react-media-recorder\";\nimport \"./chat.css\";\n\nconst Chat = (props) => {\n\tconst dispatch = useDispatch();\n\tconst historys = useHistory();\n\tconst history = useSelector((state) => state.history);\n\tconst [ptr, setPtr] = useState(0);\n\n\tconst { speak, voices } = useSpeechSynthesis();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-EN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tasync function anyFunction() {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\t\t\tvar raw = JSON.stringify({\n\t\t\t\tto: props.recipient,\n\t\t\t\tfrom: props.loggedinUser,\n\t\t\t});\n\n\t\t\tvar requestOptions = {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: myHeaders,\n\t\t\t\tbody: raw,\n\t\t\t\tredirect: \"follow\",\n\t\t\t\tcredentials: \"include\",\n\t\t\t};\n\n\t\t\tawait fetch(\"http://stormy-tundra-81519.herokuapp.com/message/history\", requestOptions)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then(async (result) => {\n\t\t\t\t\tconsole.log(\"data from server:\", result);\n\t\t\t\t\tdispatch(updateHistory(result));\n\t\t\t\t\tconsole.log(\"history from contact: \", result);\n\t\t\t\t\tsetPtr(result.length - 1);\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.log(\"error\", error));\n\t\t}\n\t\tanyFunction();\n\t}, [props.loggedinUser]);\n\n\tconst sayThis = (data) => {\n\t\tspeak({\n\t\t\ttext: data,\n\t\t\tvoice,\n\t\t});\n\t\tM.toast({ html: data });\n\t};\n\n\tconst readMessage = async (msg) => {\n\t\tif (msg === undefined) return;\n\t\tsayThis(`From ${msg.from} To ${msg.to} `);\n\t\tif (msg.type === \"text\") {\n\t\t\tsayThis(\n\t\t\t\t`The text message was ${\n\t\t\t\t\tmsg.text.charAt(0).toUpperCase() + msg.text.slice(1)\n\t\t\t\t}`\n\t\t\t);\n\t\t} else {\n\t\t\tsayThis(`The audio message was `);\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, 6000));\n\t\t\tconst audio = new Audio(msg.enc);\n\t\t\taudio.play();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"maindiv\">\n\t\t\t<div className=\"buttons\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-left button\"\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tif (history.length !== 0) {\n\t\t\t\t\t\t\tif (ptr == 0) {\n\t\t\t\t\t\t\t\tsayThis(\"No more previous messages\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetPtr(ptr - 1);\n\t\t\t\t\t\t\t\tvar msg = history[ptr - 1];\n\t\t\t\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\t\t\t\treadMessage(msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(`There has been no conversation with ${props.recipient}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLeft\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-right button\"\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tif (history.length !== 0) {\n\t\t\t\t\t\t\tif (ptr == history.length - 1) {\n\t\t\t\t\t\t\t\tsayThis(\"No more new messages\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetPtr(ptr + 1);\n\t\t\t\t\t\t\t\tvar msg = history[ptr + 1];\n\t\t\t\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\t\t\t\treadMessage(msg);\n\t\t\t\t\t\t\t\t// sayThis(`From ${msg.from} To ${msg.to} `);\n\t\t\t\t\t\t\t\t// if (msg.type === \"text\") {\n\t\t\t\t\t\t\t\t// \tsayThis(\n\t\t\t\t\t\t\t\t// \t\t`The text message was ${\n\t\t\t\t\t\t\t\t// \t\t\tmsg.text.charAt(0).toUpperCase() + msg.text.slice(1)\n\t\t\t\t\t\t\t\t// \t\t}`\n\t\t\t\t\t\t\t\t// \t);\n\t\t\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t\t\t// \tsayThis(`The audio message was `);\n\t\t\t\t\t\t\t\t// \tawait new Promise((resolve) => setTimeout(resolve, 6200));\n\t\t\t\t\t\t\t\t// \tconst audio = new Audio(msg.enc);\n\t\t\t\t\t\t\t\t// \taudio.play();\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// sayThis(frndlist[ptr]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(`There has been no conversation with ${props.recipient}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRight\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bottom-left button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistorys.push(\"/usr/contacts\");\n\t\t\t\t\t\tsayThis(\"Going back to contacts page\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBack\n\t\t\t\t</div>\n\t\t\t\t<ReactMediaRecorder\n\t\t\t\t\trender={({ status, startRecording, stopRecording, mediaBlobUrl }) => {\n\t\t\t\t\t\tconst start = () => {\n\t\t\t\t\t\t\tstartRecording();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst end = async () => {\n\t\t\t\t\t\t\tstopRecording();\n\t\t\t\t\t\t\tif (!mediaBlobUrl) return;\n\t\t\t\t\t\t\tconst blob = await fetch(mediaBlobUrl).then((r) => r.blob());\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\t\treader.onloadend = () => {\n\t\t\t\t\t\t\t\tconst base64data = reader.result;\n\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\tupdateMessage({\n\t\t\t\t\t\t\t\t\t\ttype: \"audio\",\n\t\t\t\t\t\t\t\t\t\tenc: base64data,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\thistorys.push(\"/usr/recorder\");\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"bottom-right button\"\n\t\t\t\t\t\t\t\tonTouchStart={start}\n\t\t\t\t\t\t\t\tonTouchEnd={end}\n\t\t\t\t\t\t\t\tonMouseDown={start}\n\t\t\t\t\t\t\t\tonMouseUp={end}\n\t\t\t\t\t\t\t\tonMouseLeave={end}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{status === \"recording\" ? \"Recording...\" : \"Record\"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t// <Col xs={1} md={0.5}\n\t\t\t\t\t\t\t//     style={{\n\t\t\t\t\t\t\t//         // padding: \"5px 0px 0px 0px\",\n\t\t\t\t\t\t\t//         color: `${status === 'recording' ? 'limegreen' : 'black'}`\n\t\t\t\t\t\t\t//     }}>\n\t\t\t\t\t\t\t//     <Mic style={{ margin: \"10px 0px 0px 0px \" }}\n\t\t\t\t\t\t\t// onTouchStart={start}\n\t\t\t\t\t\t\t// onTouchEnd={end}\n\t\t\t\t\t\t\t// onMouseDown={start}\n\t\t\t\t\t\t\t// onMouseUp={end}\n\t\t\t\t\t\t\t// onMouseLeave={end} />\n\t\t\t\t\t\t\t// </Col>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"center\"\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tif (history !== []) {\n\t\t\t\t\t\t\tsetPtr(history.length - 1);\n\t\t\t\t\t\t\tsayThis(\"Jumping back to latest message\");\n\t\t\t\t\t\t\tawait new Promise((resolve) => setTimeout(resolve, 3000));\n\t\t\t\t\t\t\treadMessage(history[history.length - 1]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(`There has been no conversation with ${props.recipient}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLatest\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"current\"\n\t\t\t\tonClick={async () => {\n\t\t\t\t\tconsole.log(history);\n\t\t\t\t\tsayThis(\n\t\t\t\t\t\t`You are on Chat page with ${props.recipient}. ${\n\t\t\t\t\t\t\thistory.length !== 0\n\t\t\t\t\t\t\t\t? \"Current message is \"\n\t\t\t\t\t\t\t\t: \"There are no messages here.\"\n\t\t\t\t\t\t}`\n\t\t\t\t\t);\n\t\t\t\t\tawait new Promise((resolve) => setTimeout(resolve, 4000));\n\t\t\t\t\treadMessage(history[ptr]);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tCurrent\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","import React from \"react\";\nimport M from \"materialize-css\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ReactMediaRecorder } from \"react-media-recorder\";\nimport { updateMessage } from \"../../../redux/actionCreator\";\n\nexport default function Recorder(props) {\n\tconst { speak, voices } = useSpeechSynthesis();\n\tconst dispatch = useDispatch();\n\tconst message = useSelector((state) => state.message);\n\tconst reciepient = useSelector((state) => state.reciepient);\n\tconst historys = useHistory();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-IN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tconst sayThis = (data) => {\n\t\tspeak({\n\t\t\ttext: data,\n\t\t\tvoice,\n\t\t});\n\t\tM.toast({ html: data });\n\t};\n\n\tconst sendMessage = async () => {\n\t\tsayThis(`Sending message to ${reciepient}.`);\n\t\tawait props.sendMessage();\n\t\tawait new Promise((resolve) => setTimeout(resolve, 2000));\n\n\t\thistorys.push(\"/usr/chat\");\n\t};\n\n\tconst playMessage = () => {\n\t\tconst audio = new Audio(message.enc);\n\t\taudio.play();\n\t};\n\n\treturn (\n\t\t<div className=\"maindiv\">\n\t\t\t<div className=\"buttons\">\n\t\t\t\t<ReactMediaRecorder\n\t\t\t\t\trender={({ status, startRecording, stopRecording, mediaBlobUrl }) => {\n\t\t\t\t\t\tconst start = () => {\n\t\t\t\t\t\t\tstartRecording();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst end = async () => {\n\t\t\t\t\t\t\tstopRecording();\n\t\t\t\t\t\t\tif (!mediaBlobUrl) return;\n\t\t\t\t\t\t\tconst blob = await fetch(mediaBlobUrl).then((r) => r.blob());\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\t\treader.onloadend = () => {\n\t\t\t\t\t\t\t\tconst base64data = reader.result;\n\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\tupdateMessage({\n\t\t\t\t\t\t\t\t\t\ttype: \"audio\",\n\t\t\t\t\t\t\t\t\t\tenc: base64data,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"top-left button\"\n\t\t\t\t\t\t\t\tonTouchStart={start}\n\t\t\t\t\t\t\t\tonTouchEnd={end}\n\t\t\t\t\t\t\t\tonMouseDown={start}\n\t\t\t\t\t\t\t\tonMouseUp={end}\n\t\t\t\t\t\t\t\tonMouseLeave={end}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{status === \"recording\" ? \"Recording...\" : \"Re-Record\"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"top-right button\" onClick={playMessage}>\n\t\t\t\t\tReplay\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bottom-left button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistorys.push(\"/usr/chat\");\n\t\t\t\t\t\tsayThis(\"Discarding the audio and going back to chat page\");\n\t\t\t\t\t\tdispatch(updateMessage({}));\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBack\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bottom-right button\" onClick={sendMessage}>\n\t\t\t\t\tSend\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"current\"\n\t\t\t\tonClick={() => sayThis(\"You are on the recordings page\")}\n\t\t\t>\n\t\t\t\tCurrent\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Contacts from \"../contacts/Contacts\";\nimport Chat from \"../chat/Chat\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n\tupdateHistory,\n\tupdateLoggedInUser,\n} from \"../../../redux/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./user.css\";\nimport Recorder from \"../recorder/Recorder\";\nimport { getCookie } from \"../../../hooks/useCookie\";\n\nconst User = (props) => {\n\tconst dispatch = useDispatch();\n\tconst historys = useHistory();\n\tconst { type } = useParams();\n\tconst reciepient = useSelector((state) => state.reciepient);\n\tconst message = useSelector((state) => state.message);\n\tconst history = useSelector((state) => state.history);\n\tconst loggedInUser = useSelector((state) => state.loggedInUser);\n\tvar server = \"http://stormy-tundra-81519.herokuapp.com/\";\n\tvar ws_server = \"ws://stormy-tundra-81519.herokuapp.com/\";\n\tvar ws = new WebSocket(ws_server + \"message\");\n\tvar buffer = [];\n\n\tconst getHistory = async () => {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\t\tvar raw = JSON.stringify({\n\t\t\tto: reciepient,\n\t\t\tfrom: loggedInUser,\n\t\t});\n\n\t\tvar requestOptions = {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: myHeaders,\n\t\t\tbody: raw,\n\t\t\tredirect: \"follow\",\n\t\t\tcredentials: \"include\",\n\t\t};\n\n\t\tawait fetch(\"http://stormy-tundra-81519.herokuapp.com/message/history\", requestOptions)\n\t\t\t.then((response) => response.json())\n\t\t\t.then(async (result) => {\n\t\t\t\tconsole.log(\"data from server:\", result);\n\t\t\t\tdispatch(updateHistory(result));\n\t\t\t\tconsole.log(\"history from contact: \", history);\n\t\t\t})\n\t\t\t.catch((error) => console.log(\"error\", error));\n\t};\n\n\tuseEffect(() => {\n\t\tasync function anyFunction() {\n\t\t\tws.onerror = (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t};\n\t\t\tws.onmessage = (message) => {\n\t\t\t\tconsole.log(message.data);\n\t\t\t\tgetHistory();\n\t\t\t};\n\t\t\tconst username = getCookie('username');\n\t\t\tawait fetch(server + `self/${username}`, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tcredentials: \"include\",\n\t\t\t})\n\t\t\t\t.then((resp) => resp.json())\n\t\t\t\t.then(async (data) => {\n\t\t\t\t\tconsole.log(\"data from fetch(/self): \", data);\n\t\t\t\t\tdispatch(updateLoggedInUser(data.username));\n\t\t\t\t});\n\t\t}\n\t\tanyFunction();\n\t}, [loggedInUser]);\n\n\tconst Sendmessage = () => {\n\t\tconsole.log(\"Message body in websocket function:\", message);\n\t\tlet resp = JSON.stringify({\n\t\t\tfrom: loggedInUser,\n\t\t\tto: reciepient,\n\t\t\ttype: message.type,\n\t\t\tenc: message.enc,\n\t\t\ttext: message.text,\n\t\t\ttimestamp: Date.now(),\n\t\t});\n\t\tif (ws) {\n\t\t\tbuffer.forEach((message) => {\n\t\t\t\tws.send(message);\n\t\t\t});\n\t\t\tbuffer.length = 0;\n\t\t\tws.send(resp);\n\t\t} else {\n\t\t\tconsole.log(\"ws not available\");\n\t\t\tif (!buffer.includes(resp)) {\n\t\t\t\tbuffer.push(resp);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst logout = () => {\n\t\tws.close();\n\t\tfetch(\"http://stormy-tundra-81519.herokuapp.com/auth/logout\", { method: \"GET\" })\n\t\t\t.then((data) => {\n\t\t\t\thistorys.push(\"/signin\");\n\t\t\t\t// this.props.history.push(\"/signin\");\n\t\t\t\t// console.log(this.props.history);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tif (loggedInUser !== \"\") {\n\t\tswitch (type) {\n\t\t\tcase \"contacts\": {\n\t\t\t\treturn <Contacts loggedinUser={loggedInUser} logout={logout} />;\n\t\t\t}\n\t\t\tcase \"chat\": {\n\t\t\t\tif (reciepient !== undefined) {\n\t\t\t\t\treturn <Chat loggedinUser={loggedInUser} recipient={reciepient} />;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase \"recorder\": {\n\t\t\t\tif (reciepient !== undefined) {\n\t\t\t\t\treturn <Recorder sendMessage={Sendmessage} />;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default User;\n","import * as actionTypes from '../actionTypes'\n\nexport const Reciepient = (state = \"\", action) => {\n    switch(action.type) {\n        case actionTypes.UPDATE_RECPNT:\n            var n_reciepient = action.payload.reciepientName;\n            return n_reciepient;\n        default:\n            return state;\n    }\n}","import * as actionTypes from \"../actionTypes\";\nexport const Message = (state = {}, action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_MSG:\n            var new_message = action.payload;\n            return new_message;\n        default:\n            return state;\n    }\n};\n","import * as actionTypes from '../actionTypes'\n\nexport const History = (state = \"\", action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_HSTR:\n            var new_history = action.payload.history;\n            return new_history;\n        default:\n            return state;\n    }\n}","import * as actionTypes from '../actionTypes'\n\nexport const LoggedinUser = (state = \"\", action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_LGINUSR:\n            var new_logggedInUser = action.payload.loggedinUser;\n            return new_logggedInUser;\n        default:\n            return state;\n    }\n}","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Route, BrowserRouter, Switch, Redirect } from \"react-router-dom\";\nimport Signin from \"./components/Views/Signin\";\nimport Signup from \"./components/Views/Signup\";\nimport User from \"./components/Views/user/User\";\nimport { Provider } from \"react-redux\";\nimport { ConfigureStore } from \"./redux/configureStore\";\nimport { createBrowserHistory } from \"history\";\n\nconst appHistory = createBrowserHistory();\nconst store = ConfigureStore();\n\nclass App extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <BrowserRouter history={appHistory}>\n                    <Switch>\n                        <Route exact path=\"/\">\n                            <Signin />\n                        </Route>\n\n                        <Route path=\"/signup\">\n                            <Signup />\n                        </Route>\n\n                        <Route path=\"/usr/:type\">\n                            <User />\n                        </Route>\n\n                        <Redirect to=\"/\" />\n                    </Switch>\n                </BrowserRouter>\n            </Provider>\n        );\n    }\n}\n\nexport default App;\n","import { createStore, combineReducers } from \"redux\";\nimport { Reciepient } from \"./reducers/reciepient\";\nimport { Message } from \"./reducers/message\";\nimport { History } from \"./reducers/history\";\nimport { LoggedinUser } from \"./reducers/loggedInUser\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nexport const ConfigureStore = () => {\n    const store = createStore(\n        combineReducers({\n            reciepient: Reciepient,\n            message: Message,\n            history: History,\n            loggedInUser: LoggedinUser,\n        }),\n        composeWithDevTools()\n    );\n    return store;\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}