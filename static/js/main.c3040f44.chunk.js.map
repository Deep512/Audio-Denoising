{"version":3,"sources":["hooks/useCookie.js","components/Views/Signin.js","components/Views/Signup.js","redux/actionCreator.js","redux/actionTypes.js","hooks/useLongPress.js","components/Views/contacts/Contacts.js","hooks/usePersistedState.js","components/Views/chat/Chat.js","components/Views/recorder/Recorder.js","components/Views/user/User.js","redux/reducers/reciepient.js","redux/reducers/message.js","redux/reducers/history.js","redux/reducers/loggedInUser.js","App.js","redux/configureStore.js","serviceWorker.js","index.js"],"names":["setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","delete_cookie","name","getCookie","ca","split","i","length","c","charAt","substring","indexOf","Signin","useState","username","setUsername","password","setPassword","value","history","useHistory","useSpeechSynthesis","speak","voices","voice","forEach","v","lang","useEffect","user","checkCookie","console","log","fetch","method","headers","credentials","body","JSON","stringify","then","response","json","data","error","text","M","toast","html","localStorage","setItem","token","push","catch","Card","className","classsname","Row","InputGroup","Col","xs","FormControl","style","margin","type","placeholder","onChange","e","target","Button","onClick","to","display","justifyContent","Signup","phone","setPhone","setName","classname","message","updateHistory","new_history","payload","updateLoggedInUser","new_user","loggedinUser","updateMessage","new_message","from","enc","preventDefault","event","isTouchEvent","touches","useLongPress","onLongPress","shouldPreventDefault","delay","longPressTriggered","setLongPressTriggered","timeout","useRef","start","useCallback","addEventListener","passive","current","setTimeout","clear","shouldTriggerClick","clearTimeout","removeEventListener","onMouseDown","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","Contacts","props","historys","dispatch","useDispatch","userLoggedIn","useSelector","state","reciepient","loggedInUser","list","setList","frndlist","setFrndList","online","key","defaultValue","React","persistedState","getItem","parse","setState","window","usePersistedState","ptr","setPtr","newContact","setNewContact","verifyContact","setVerifyContact","useSpeechRecognition","onResult","result","replace","onEnd","sayThis","join","listen","listening","stop","longPressEvent","addContact","startListening","stopListening","status","a","res","err","anyFunction","flag","friend","logout","reciepientName","Chat","myHeaders","Headers","append","raw","recipient","requestOptions","redirect","readMessage","msg","undefined","toUpperCase","slice","Promise","resolve","Audio","play","render","startRecording","stopRecording","mediaBlobUrl","end","r","blob","reader","FileReader","readAsDataURL","onloadend","base64data","Recorder","sendMessage","User","useParams","server","ws","WebSocket","ws_server","buffer","getHistory","onerror","onmessage","Accept","resp","close","timestamp","now","send","includes","Reciepient","action","n_reciepient","Message","History","LoggedinUser","new_logggedInUser","appHistory","createBrowserHistory","store","createStore","combineReducers","composeWithDevTools","App","exact","path","Component","Boolean","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c3040f44.chunk.js","sourcesContent":["export function setCookie(cname, cvalue, exdays) {\n\tvar d = new Date();\n\td.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n\tvar expires = \"expires=\" + d.toUTCString();\n\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function delete_cookie(name) {\n\tdocument.cookie = name + \"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n}\n\nexport function getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar ca = document.cookie.split(\";\");\n\tfor (var i = 0; i < ca.length; i++) {\n\t\tvar c = ca[i];\n\t\twhile (c.charAt(0) == \" \") {\n\t\t\tc = c.substring(1);\n\t\t}\n\t\tif (c.indexOf(name) == 0) {\n\t\t\treturn c.substring(name.length, c.length);\n\t\t}\n\t}\n\treturn \"\";\n}\n\nexport function checkCookie() {\n\tvar user = getCookie(\"username\");\n\tvar pass = getCookie(\"password\");\n\tif (user != \"\") {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t\t// user = prompt(\"Please enter your name:\", \"\");\n\t\t// if (user != \"\" && user != null) {\n\t\t// \tsetCookie(\"username\", user, 365);\n\t\t// }\n\t}\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { setCookie, getCookie, checkCookie } from \"../../hooks/useCookie\";\nimport M from \"materialize-css\";\nimport \"./auth.css\";\nimport {\n\tCard,\n\tRow,\n\tCol,\n\tInputGroup,\n\tFormControl,\n\tButton,\n} from \"react-bootstrap\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\n\nconst Signin = () => {\n\tconst [username, setUsername] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [value, setValue] = useState(\"\");\n\tconst history = useHistory();\n\tconst { speak, voices } = useSpeechSynthesis();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-IN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (checkCookie()) {\n\t\t\tlet voice = null;\n\t\t\tvoices.forEach((v) => {\n\t\t\t\tif (v.lang === \"hi-IN\") {\n\t\t\t\t\tvoice = v;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst username = getCookie(\"username\");\n\t\t\tconst password = getCookie(\"password\");\n\t\t\tconsole.log(username);\n\t\t\tconsole.log(password);\n\t\t\tfetch(\"https://stormy-tundra-81519.herokuapp.com/auth/login\", {\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tusername,\n\t\t\t\t\tpassword,\n\t\t\t\t}),\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tspeak({\n\t\t\t\t\t\t\ttext: `Unable to sign in. ${data.error}`,\n\t\t\t\t\t\t\tvoice,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tM.toast({ html: data.error });\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tspeak({\n\t\t\t\t\t\t\ttext: `Signed in successfully as ${username}!`,\n\t\t\t\t\t\t\tvoice,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tM.toast({ html: \"Signed in successfully!\" });\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(data.user));\n\t\t\t\t\t\thistory.push(\"/usr/contacts\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.log(\"error\", error));\n\t\t}\n\t}, [value]);\n\n\tconst postInfo = () => {\n\t\tfetch(\"https://stormy-tundra-81519.herokuapp.com/auth/login\", {\n\t\t\tmethod: \"post\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error) {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Unable to sign in. ${data.error}`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: data.error });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Signed in successfully as ${username}!`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: \"Signed in successfully!\" });\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(data.user));\n\t\t\t\t\tsetCookie(\"username\", username, 365 * 10);\n\t\t\t\t\tsetCookie(\"password\", password, 365 * 10);\n\t\t\t\t\thistory.push(\"/usr/contacts\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => console.log(\"error\", error));\n\t};\n\n\treturn (\n\t\t<Card className=\"mycard\">\n\t\t\t<div classsname=\"card auth-card\">\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<h2 className=\"brand-logo\">Login</h2>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tstyle={{ margin: \"5px 5px 5px 5px\" }}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tstyle={{ margin: \"5px 5px 5px 5px\" }}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => postInfo()}\n\t\t\t\t\t\t\tclassName=\"btn-s waves-effect waves-light\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSignin{\" \"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Link to=\"/signup\">Dont have an account?</Link>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: \"flex\", justifyContent: \"space-around\" }}\n\t\t\t\t\t></div>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t</Card>\n\t);\n};\n\nexport default Signin;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { Card, Row, InputGroup, FormControl, Button } from \"react-bootstrap\";\nimport { Person } from \"@material-ui/icons\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\n\nconst Signup = () => {\n\tconst [username, setUsername] = useState(\"\");\n\tconst [phone, setPhone] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [name, setName] = useState(\"\");\n\tconst history = useHistory();\n\tconst { speak, voices } = useSpeechSynthesis();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-IN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tconst postInfo = () => {\n\t\tfetch(\"https://stormy-tundra-81519.herokuapp.com/register\", {\n\t\t\tmethod: \"post\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t\tname,\n\t\t\t\tphone,\n\t\t\t}),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error) {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Unable to register. ${data.error}`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: data.error });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tspeak({\n\t\t\t\t\t\ttext: `Successfully registered with username ${username}`,\n\t\t\t\t\t\tvoice,\n\t\t\t\t\t});\n\t\t\t\t\tM.toast({ html: data.message });\n\t\t\t\t\thistory.push(\"/signin\");\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<Card className=\"mycard\">\n\t\t\t<div classsname=\"card auth-card\">\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<h2 className=\"brand-logo\">Signup</h2>\n\t\t\t\t</Row>\n\t\t\t\t{/* <Row className=\"justify-content-center\">\n                    <Person className=\"icon-person\" style={{ fontSize: 120 }} />\n                </Row> */}\n\t\t\t\t<InputGroup>\n\t\t\t\t\t<Row classname=\"justify-content-center\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tstyle={{ margin: \"5px 20px 5px 20px\" }}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Phone\"\n\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\tonChange={(e) => setPhone(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"btn-s waves-effect waves-light\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tonClick={() => postInfo()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSignup\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Link to=\"/signin\">Already have an account?</Link>\n\t\t\t\t\t</Row>\n\t\t\t\t</InputGroup>\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-around\" }}></div>\n\t\t\t</div>\n\t\t</Card>\n\t);\n};\n\nexport default Signup;\n","import * as actionTypes from './actionTypes';\n\nexport const updateReciepient = (reciepientName) => ({\n    type: actionTypes.UPDATE_RECPNT,\n    payload: {\n        reciepientName:reciepientName,\n    }\n})\n\nexport const updateHistory = (new_history) => ({\n    type:actionTypes.UPDATE_HSTR,\n    payload: {\n        history:new_history,\n    }\n})\nexport const updateLoggedInUser = (new_user) => ({\n    type:actionTypes.UPDATE_LGINUSR,\n    payload: {\n        loggedinUser:new_user,\n    }\n})\nexport const updateMessage = (new_message) => ({\n    type:actionTypes.UPDATE_MSG,\n    payload: {\n        from:new_message.from,\n        to:new_message.to,\n        text:new_message.text,\n        type:new_message.type,\n        enc:new_message.enc\n    }\n})","export const UPDATE_RECPNT = \"Update_reciepient\";\nexport const UPDATE_HSTR = \"Update_history\";\nexport const UPDATE_LGINUSR = \"Update_loggedInUser\";\nexport const UPDATE_MSG = \"Update_message\";","import { useCallback, useRef, useState } from \"react\";\n\nconst useLongPress = (\n    onLongPress,\n    onClick,\n    { shouldPreventDefault = true, delay = 300 } = {}\n) => {\n    const [longPressTriggered, setLongPressTriggered] = useState(false);\n    const timeout = useRef();\n    const target = useRef();\n\n    const start = useCallback(\n        (event) => {\n            if (shouldPreventDefault && event.target) {\n                event.target.addEventListener(\"touchend\", preventDefault, {\n                    passive: false,\n                });\n                target.current = event.target;\n            }\n            timeout.current = setTimeout(() => {\n                onLongPress(event);\n                setLongPressTriggered(true);\n            }, delay);\n        },\n        [onLongPress, delay, shouldPreventDefault]\n    );\n\n    const clear = useCallback(\n        (event, shouldTriggerClick = true) => {\n            timeout.current && clearTimeout(timeout.current);\n            shouldTriggerClick && !longPressTriggered && onClick();\n            setLongPressTriggered(false);\n            if (shouldPreventDefault && target.current) {\n                target.current.removeEventListener(\"touchend\", preventDefault);\n            }\n        },\n        [shouldPreventDefault, onClick, longPressTriggered]\n    );\n\n    return {\n        onMouseDown: (e) => start(e),\n        onTouchStart: (e) => start(e),\n        onMouseUp: (e) => clear(e),\n        onMouseLeave: (e) => clear(e, false),\n        onTouchEnd: (e) => clear(e),\n    };\n};\n\nconst isTouchEvent = (event) => {\n    return \"touches\" in event;\n};\n\nconst preventDefault = (event) => {\n    if (!isTouchEvent(event)) return;\n\n    if (event.touches.length < 2 && event.preventDefault) {\n        event.preventDefault();\n    }\n};\n\nexport default useLongPress;\n\n// export default function App() {\n\n//     const onLongPress = () => {\n//         console.log('longpress is triggered');\n//     };\n\n//     const onClick = () => {\n//         console.log('click is triggered')\n//     }\n\n//     const defaultOptions = {\n//         shouldPreventDefault: true,\n//         delay: 500,\n//     };\n//     const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\n\n//     return (\n//         <div className=\"App\">\n//             <button {...longPressEvent}>use  Loooong  Press</button>\n//         </div>\n//     );\n// }\n","import React, { useState, useEffect } from \"react\";\nimport M from \"materialize-css\";\nimport \"./contacts.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { updateReciepient } from \"../../../redux/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSpeechSynthesis, useSpeechRecognition } from \"react-speech-kit\";\nimport usePersistedState from \"../../../hooks/usePersistedState\";\nimport { delete_cookie } from \"../../../hooks/useCookie\";\nimport useLongPress from \"../../../hooks/useLongPress\";\n\nconst Contacts = (props) => {\n\tconst historys = useHistory();\n\tconst dispatch = useDispatch();\n\tconst reciepient = useSelector((state) => state.reciepient);\n\tconst history = useSelector((state) => state.history);\n\tconst userLoggedIn = useSelector((state) => state.loggedInUser);\n\tconst [list, setList] = useState([]);\n\tconst [frndlist, setFrndList] = useState([]);\n\tconst [online, setOnline] = useState([userLoggedIn]);\n\tconst [ptr, setPtr] = usePersistedState(\"ptr\", 0);\n\tconst { speak, voices } = useSpeechSynthesis();\n\tconst [newContact, setNewContact] = useState(\"\");\n\tconst [verifyContact, setVerifyContact] = useState(false);\n\t// const [result, setResult] = useState(false);\n\tconst { listen, listening, stop } = useSpeechRecognition({\n\t\tonResult: (result) => {\n\t\t\tsetNewContact(result.replace(/[^\\d]/g, \"\"));\n\t\t},\n\t\tonEnd: () => {\n\t\t\t// call the add contact thing from here\n\t\t\tconsole.log(\"Final number:\", newContact);\n\t\t\tif (newContact.length === 10) {\n\t\t\t\tsayThis(\n\t\t\t\t\t`The number recorded is ${newContact\n\t\t\t\t\t\t.split(\"\")\n\t\t\t\t\t\t.join(\" \")}. Click to accept and long press to reject it.`\n\t\t\t\t);\n\t\t\t\t// Confirm if the number is correct\n\n\t\t\t\t// if yes\n\t\t\t\tsetVerifyContact(true);\n\t\t\t\t// addContact();\n\t\t\t} else {\n\t\t\t\tsayThis(\"Invalid entry. Please record the number again.\");\n\t\t\t}\n\t\t},\n\t});\n\n\tconst onLongPressAddContact = () => {\n\t\tsayThis(\"Discarding number.\");\n\t\tsetVerifyContact(false);\n\t\tsetNewContact(\"\");\n\t};\n\n\tconst onClickAddContact = () => {\n\t\tsayThis(\"Adding contact...\");\n\t\taddContact().then(() => {\n\t\t\tsetVerifyContact(false);\n\t\t\tsetNewContact(\"\");\n\t\t});\n\t};\n\n\tconst defaultOptions = {\n\t\tshouldPreventDefault: true,\n\t\tdelay: 300,\n\t};\n\n\tconst longPressEvent = useLongPress(\n\t\tonLongPressAddContact,\n\t\tonClickAddContact,\n\t\tdefaultOptions\n\t);\n\n\tconst startListening = () => {\n\t\tif (!listening) listen();\n\t};\n\n\tconst stopListening = () => {\n\t\tif (listening) stop();\n\t};\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-EN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tvar status = \"\";\n\n\tuseEffect(() => {\n\t\tasync function anyFunction() {\n\t\t\tawait fetch(\"https://stormy-tundra-81519.herokuapp.com/contacts\", {\n\t\t\t\tmethod: \"get\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then((res) => res.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetList(data);\n\t\t\t\t});\n\n\t\t\tsetTimeout(async () => {\n\t\t\t\tawait fetch(\n\t\t\t\t\t\"https://stormy-tundra-81519.herokuapp.com/contacts/friends\",\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tusername: props.loggedinUser,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tsetFrndList(data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}, 50);\n\n\t\t\t// setInterval(async () => {\n\t\t\t// \tawait fetch(\n\t\t\t// \t\t\"https://stormy-tundra-81519.herokuapp.com/message/clients\",\n\t\t\t// \t\t{\n\t\t\t// \t\t\tmethod: \"GET\",\n\t\t\t// \t\t}\n\t\t\t// \t)\n\t\t\t// \t\t.then((response) => response.json())\n\t\t\t// \t\t.then((data) => {\n\t\t\t// \t\t\tsetOnline(data);\n\t\t\t// \t\t});\n\t\t\t// }, 500);\n\t\t}\n\t\tanyFunction();\n\t}, [props.loggedinUser, frndlist]);\n\n\t// const getHistory = async () => {\n\t// \tvar myHeaders = new Headers();\n\t// \tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\t// \tvar raw = JSON.stringify({\n\t// \t\tto: reciepient,\n\t// \t\tfrom: props.loggedinUser,\n\t// \t});\n\n\t// \tvar requestOptions = {\n\t// \t\tmethod: \"POST\",\n\t// \t\theaders: myHeaders,\n\t// \t\tbody: raw,\n\t// \t\tredirect: \"follow\",\n\t// \t\tcredentials: \"include\",\n\t// \t};\n\n\t// \tawait fetch(\"https://stormy-tundra-81519.herokuapp.com/message/history\", requestOptions)\n\t// \t\t.then((response) => response.json())\n\t// \t\t.then(async (result) => {\n\t// \t\t\tdispatch(updateHistory(result));\n\t// \t\t\tconsole.log(\"history from contact: \", history);\n\t// \t\t})\n\t// \t\t.catch((error) => console.log(\"error\", error));\n\t// };\n\n\tconst addContact = async () => {\n\t\tawait fetch(\"https://stormy-tundra-81519.herokuapp.com/contacts\", {\n\t\t\tmethod: \"get\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tsetList(data);\n\t\t\t\tconsole.log(data);\n\t\t\t});\n\t\tvar flag = false;\n\t\tlist.forEach(async (user) => {\n\t\t\tif (user.username !== props.loggedinUser && user.phone === newContact) {\n\t\t\t\tflag = true;\n\t\t\t\tawait fetch(\n\t\t\t\t\t\"https://stormy-tundra-81519.herokuapp.com/contacts/addcontact\",\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tusername: props.loggedinUser,\n\t\t\t\t\t\t\tfriend: user.username,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => console.log(data))\n\t\t\t\t\t.catch((err) => console.log(err));\n\n\t\t\t\tawait fetch(\n\t\t\t\t\t\"https://stormy-tundra-81519.herokuapp.com/contacts/friends\",\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tusername: props.loggedinUser,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tsayThis(\"Number added to friend list.\");\n\t\t\t\t\t\tsetFrndList(data);\n\t\t\t\t\t\tconsole.log(\"friendlist\", data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}\n\t\t\tsetVerifyContact(false);\n\t\t\treturn;\n\t\t});\n\t\tsetVerifyContact(false);\n\n\t\tif (flag === false) {\n\t\t\tsayThis(\"User doesnt exist\");\n\t\t\tM.toast({ html: \"User doesnt exist!!\" });\n\t\t}\n\t\treturn;\n\t};\n\n\tconst sayThis = (data) => {\n\t\tspeak({\n\t\t\ttext: data,\n\t\t\tvoice,\n\t\t});\n\t\tM.toast({ html: data });\n\t};\n\n\treturn (\n\t\t<div className=\"maindiv\">\n\t\t\t<div className=\"buttons\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-left button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (frndlist.length !== 0) {\n\t\t\t\t\t\t\tif (ptr == 0) {\n\t\t\t\t\t\t\t\tsetPtr(frndlist.length - 1);\n\t\t\t\t\t\t\t\tconsole.log(frndlist[frndlist.length - 1]);\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tonline.indexOf(frndlist[frndlist.length - 1].username) > -1\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tstatus = \" online\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstatus = \" not online\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsayThis(frndlist[frndlist.length - 1].username + status);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetPtr(ptr - 1);\n\t\t\t\t\t\t\t\tconsole.log(frndlist[ptr - 1]);\n\n\t\t\t\t\t\t\t\tif (online.indexOf(frndlist[ptr - 1].username) > -1) {\n\t\t\t\t\t\t\t\t\tstatus = \" online\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstatus = \" not online\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsayThis(frndlist[ptr - 1].username + status);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(\n\t\t\t\t\t\t\t\t\"You have no friends, Add new friends using the center button!\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLeft\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-right button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (frndlist.length !== 0) {\n\t\t\t\t\t\t\tif (ptr == frndlist.length - 1) {\n\t\t\t\t\t\t\t\tsetPtr(0);\n\t\t\t\t\t\t\t\tconsole.log(frndlist[0]);\n\n\t\t\t\t\t\t\t\tif (online.indexOf(frndlist[0].username) > -1) {\n\t\t\t\t\t\t\t\t\tstatus = \" online\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstatus = \" not online\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsayThis(frndlist[0].username + status);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetPtr(ptr + 1);\n\t\t\t\t\t\t\t\tconsole.log(frndlist[ptr + 1]);\n\t\t\t\t\t\t\t\tif (online.indexOf(frndlist[ptr + 1].username) > -1) {\n\t\t\t\t\t\t\t\t\tstatus = \" online\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstatus = \" not online\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsayThis(frndlist[ptr + 1].username + status);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(\n\t\t\t\t\t\t\t\t\"You have no friends, Add new friends using the center button\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRight\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bottom-left button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tlocalStorage.setItem(\"ptr\", 0);\n\t\t\t\t\t\tdelete_cookie(\"username\");\n\t\t\t\t\t\tdelete_cookie(\"password\");\n\t\t\t\t\t\tprops.logout();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLogout\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bottom-right button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (frndlist !== []) {\n\t\t\t\t\t\t\tif (frndlist[ptr].username === props.loggedinUser) {\n\t\t\t\t\t\t\t\tsayThis(\"You cant chat with yourself. LONER!\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdispatch(updateReciepient(frndlist[ptr].username));\n\t\t\t\t\t\t\t\tsayThis(`Entering chat with ${frndlist[ptr].username}`);\n\t\t\t\t\t\t\t\thistorys.push(\"/usr/chat\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(\n\t\t\t\t\t\t\t\t\"You have no friends. Add new friends using the center button!\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tChat\n\t\t\t\t</div>\n\t\t\t\t{verifyContact ? (\n\t\t\t\t\t<div className=\"center\" {...longPressEvent}>\n\t\t\t\t\t\tVerify contact..\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"center\"\n\t\t\t\t\t\tonTouchStart={startListening}\n\t\t\t\t\t\tonTouchEnd={stopListening}\n\t\t\t\t\t\tonMouseDown={startListening}\n\t\t\t\t\t\tonMouseUp={stopListening}\n\t\t\t\t\t\tonMouseLeave={stopListening}\n\t\t\t\t\t>\n\t\t\t\t\t\t{listening ? \"Listening...\" : \"Add\"}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"current\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsayThis(\n\t\t\t\t\t\t`You are on Contacts page. ${\n\t\t\t\t\t\t\tfrndlist !== []\n\t\t\t\t\t\t\t\t? `The contacts pointer is on ${frndlist[ptr].username}`\n\t\t\t\t\t\t\t\t: `You have no friends, add new friends using the center button.`\n\t\t\t\t\t\t}`\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tCurrent\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Contacts;\n","import React from \"react\";\n\nexport default function usePersistedState(key, defaultValue) {\n\tconst [state, setState] = React.useState(() => {\n\t\tconst persistedState = localStorage.getItem(key);\n\t\treturn persistedState ? JSON.parse(persistedState) : defaultValue;\n\t});\n\tReact.useEffect(() => {\n\t\twindow.localStorage.setItem(key, JSON.stringify(state));\n\t}, [state, key]);\n\treturn [state, setState];\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { updateHistory, updateMessage } from \"../../../redux/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\nimport { ReactMediaRecorder } from \"react-media-recorder\";\nimport \"./chat.css\";\n\nconst Chat = (props) => {\n\tconst dispatch = useDispatch();\n\tconst historys = useHistory();\n\tconst history = useSelector((state) => state.history);\n\tconst [ptr, setPtr] = useState(0);\n\n\tconst { speak, voices } = useSpeechSynthesis();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-EN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tasync function anyFunction() {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\t\t\tvar raw = JSON.stringify({\n\t\t\t\tto: props.recipient,\n\t\t\t\tfrom: props.loggedinUser,\n\t\t\t});\n\n\t\t\tvar requestOptions = {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: myHeaders,\n\t\t\t\tbody: raw,\n\t\t\t\tredirect: \"follow\",\n\t\t\t\tcredentials: \"include\",\n\t\t\t};\n\n\t\t\tawait fetch(\n\t\t\t\t\"https://stormy-tundra-81519.herokuapp.com/message/history\",\n\t\t\t\trequestOptions\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then(async (result) => {\n\t\t\t\t\tconsole.log(\"data from server:\", result);\n\t\t\t\t\tdispatch(updateHistory(result));\n\t\t\t\t\tconsole.log(\"history from contact: \", result);\n\t\t\t\t\tsetPtr(result.length - 1);\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.log(\"error\", error));\n\t\t}\n\t\tanyFunction();\n\t}, [props.loggedinUser]);\n\n\tconst sayThis = (data) => {\n\t\tspeak({\n\t\t\ttext: data,\n\t\t\tvoice,\n\t\t});\n\t\tM.toast({ html: data });\n\t};\n\n\tconst readMessage = async (msg) => {\n\t\tif (msg === undefined) return;\n\t\tsayThis(`From ${msg.from} To ${msg.to} `);\n\t\tif (msg.type === \"text\") {\n\t\t\tsayThis(\n\t\t\t\t`The text message was ${\n\t\t\t\t\tmsg.text.charAt(0).toUpperCase() + msg.text.slice(1)\n\t\t\t\t}`\n\t\t\t);\n\t\t} else {\n\t\t\tsayThis(`The audio message was `);\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, 6000));\n\t\t\tconst audio = new Audio(msg.enc);\n\t\t\taudio.play();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"maindiv\">\n\t\t\t<div className=\"buttons\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-left button\"\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tif (history.length !== 0) {\n\t\t\t\t\t\t\tif (ptr == 0) {\n\t\t\t\t\t\t\t\tsayThis(\"No more previous messages\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetPtr(ptr - 1);\n\t\t\t\t\t\t\t\tvar msg = history[ptr - 1];\n\t\t\t\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\t\t\t\treadMessage(msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(`There has been no conversation with ${props.recipient}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLeft\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"top-right button\"\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tif (history.length !== 0) {\n\t\t\t\t\t\t\tif (ptr == history.length - 1) {\n\t\t\t\t\t\t\t\tsayThis(\"No more new messages\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetPtr(ptr + 1);\n\t\t\t\t\t\t\t\tvar msg = history[ptr + 1];\n\t\t\t\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\t\t\t\treadMessage(msg);\n\t\t\t\t\t\t\t\t// sayThis(`From ${msg.from} To ${msg.to} `);\n\t\t\t\t\t\t\t\t// if (msg.type === \"text\") {\n\t\t\t\t\t\t\t\t// \tsayThis(\n\t\t\t\t\t\t\t\t// \t\t`The text message was ${\n\t\t\t\t\t\t\t\t// \t\t\tmsg.text.charAt(0).toUpperCase() + msg.text.slice(1)\n\t\t\t\t\t\t\t\t// \t\t}`\n\t\t\t\t\t\t\t\t// \t);\n\t\t\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t\t\t// \tsayThis(`The audio message was `);\n\t\t\t\t\t\t\t\t// \tawait new Promise((resolve) => setTimeout(resolve, 6200));\n\t\t\t\t\t\t\t\t// \tconst audio = new Audio(msg.enc);\n\t\t\t\t\t\t\t\t// \taudio.play();\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// sayThis(frndlist[ptr]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(`There has been no conversation with ${props.recipient}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRight\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bottom-left button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistorys.push(\"/usr/contacts\");\n\t\t\t\t\t\tsayThis(\"Going back to contacts page\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBack\n\t\t\t\t</div>\n\t\t\t\t<ReactMediaRecorder\n\t\t\t\t\trender={({ status, startRecording, stopRecording, mediaBlobUrl }) => {\n\t\t\t\t\t\tconst start = () => {\n\t\t\t\t\t\t\tstartRecording();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst end = async () => {\n\t\t\t\t\t\t\tstopRecording();\n\t\t\t\t\t\t\tif (!mediaBlobUrl) return;\n\t\t\t\t\t\t\tconst blob = await fetch(mediaBlobUrl).then((r) => r.blob());\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\t\treader.onloadend = () => {\n\t\t\t\t\t\t\t\tconst base64data = reader.result;\n\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\tupdateMessage({\n\t\t\t\t\t\t\t\t\t\ttype: \"audio\",\n\t\t\t\t\t\t\t\t\t\tenc: base64data,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\thistorys.push(\"/usr/recorder\");\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"bottom-right button\"\n\t\t\t\t\t\t\t\tonTouchStart={start}\n\t\t\t\t\t\t\t\tonTouchEnd={end}\n\t\t\t\t\t\t\t\tonMouseDown={start}\n\t\t\t\t\t\t\t\tonMouseUp={end}\n\t\t\t\t\t\t\t\tonMouseLeave={end}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{status === \"recording\" ? \"Recording...\" : \"Record\"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t// <Col xs={1} md={0.5}\n\t\t\t\t\t\t\t//     style={{\n\t\t\t\t\t\t\t//         // padding: \"5px 0px 0px 0px\",\n\t\t\t\t\t\t\t//         color: `${status === 'recording' ? 'limegreen' : 'black'}`\n\t\t\t\t\t\t\t//     }}>\n\t\t\t\t\t\t\t//     <Mic style={{ margin: \"10px 0px 0px 0px \" }}\n\t\t\t\t\t\t\t// onTouchStart={start}\n\t\t\t\t\t\t\t// onTouchEnd={end}\n\t\t\t\t\t\t\t// onMouseDown={start}\n\t\t\t\t\t\t\t// onMouseUp={end}\n\t\t\t\t\t\t\t// onMouseLeave={end} />\n\t\t\t\t\t\t\t// </Col>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"center\"\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tif (history !== []) {\n\t\t\t\t\t\t\tsetPtr(history.length - 1);\n\t\t\t\t\t\t\tsayThis(\"Jumping back to latest message\");\n\t\t\t\t\t\t\tawait new Promise((resolve) => setTimeout(resolve, 3000));\n\t\t\t\t\t\t\treadMessage(history[history.length - 1]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsayThis(`There has been no conversation with ${props.recipient}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLatest\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"current\"\n\t\t\t\tonClick={async () => {\n\t\t\t\t\tconsole.log(history);\n\t\t\t\t\tsayThis(\n\t\t\t\t\t\t`You are on Chat page with ${props.recipient}. ${\n\t\t\t\t\t\t\thistory.length !== 0\n\t\t\t\t\t\t\t\t? \"Current message is \"\n\t\t\t\t\t\t\t\t: \"There are no messages here.\"\n\t\t\t\t\t\t}`\n\t\t\t\t\t);\n\t\t\t\t\tawait new Promise((resolve) => setTimeout(resolve, 4000));\n\t\t\t\t\treadMessage(history[ptr]);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tCurrent\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","import React from \"react\";\nimport M from \"materialize-css\";\nimport { useSpeechSynthesis } from \"react-speech-kit\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ReactMediaRecorder } from \"react-media-recorder\";\nimport { updateMessage } from \"../../../redux/actionCreator\";\n\nexport default function Recorder(props) {\n\tconst { speak, voices } = useSpeechSynthesis();\n\tconst dispatch = useDispatch();\n\tconst message = useSelector((state) => state.message);\n\tconst reciepient = useSelector((state) => state.reciepient);\n\tconst historys = useHistory();\n\n\tlet voice = null;\n\tvoices.forEach((v) => {\n\t\tif (v.lang === \"hi-IN\") {\n\t\t\tvoice = v;\n\t\t}\n\t});\n\n\tconst sayThis = (data) => {\n\t\tspeak({\n\t\t\ttext: data,\n\t\t\tvoice,\n\t\t});\n\t\tM.toast({ html: data });\n\t};\n\n\tconst sendMessage = async () => {\n\t\tsayThis(`Sending message to ${reciepient}.`);\n\t\tawait props.sendMessage();\n\t\tawait new Promise((resolve) => setTimeout(resolve, 2000));\n\n\t\thistorys.push(\"/usr/chat\");\n\t};\n\n\tconst playMessage = () => {\n\t\tconst audio = new Audio(message.enc);\n\t\taudio.play();\n\t};\n\n\treturn (\n\t\t<div className=\"maindiv\">\n\t\t\t<div className=\"buttons\">\n\t\t\t\t<ReactMediaRecorder\n\t\t\t\t\trender={({ status, startRecording, stopRecording, mediaBlobUrl }) => {\n\t\t\t\t\t\tconst start = () => {\n\t\t\t\t\t\t\tstartRecording();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst end = async () => {\n\t\t\t\t\t\t\tstopRecording();\n\t\t\t\t\t\t\tif (!mediaBlobUrl) return;\n\t\t\t\t\t\t\tconst blob = await fetch(mediaBlobUrl).then((r) => r.blob());\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\t\treader.onloadend = () => {\n\t\t\t\t\t\t\t\tconst base64data = reader.result;\n\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\tupdateMessage({\n\t\t\t\t\t\t\t\t\t\ttype: \"audio\",\n\t\t\t\t\t\t\t\t\t\tenc: base64data,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"top-left button\"\n\t\t\t\t\t\t\t\tonTouchStart={start}\n\t\t\t\t\t\t\t\tonTouchEnd={end}\n\t\t\t\t\t\t\t\tonMouseDown={start}\n\t\t\t\t\t\t\t\tonMouseUp={end}\n\t\t\t\t\t\t\t\tonMouseLeave={end}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{status === \"recording\" ? \"Recording...\" : \"Re-Record\"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"top-right button\" onClick={playMessage}>\n\t\t\t\t\tReplay\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bottom-left button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistorys.push(\"/usr/chat\");\n\t\t\t\t\t\tsayThis(\"Discarding the audio and going back to chat page\");\n\t\t\t\t\t\tdispatch(updateMessage({}));\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBack\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bottom-right button\" onClick={sendMessage}>\n\t\t\t\t\tSend\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"current\"\n\t\t\t\tonClick={() => sayThis(\"You are on the recordings page\")}\n\t\t\t>\n\t\t\t\tCurrent\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Contacts from \"../contacts/Contacts\";\nimport Chat from \"../chat/Chat\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n\tupdateHistory,\n\tupdateLoggedInUser,\n} from \"../../../redux/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./user.css\";\nimport Recorder from \"../recorder/Recorder\";\nimport { getCookie } from \"../../../hooks/useCookie\";\n\nconst User = (props) => {\n\tconst dispatch = useDispatch();\n\tconst historys = useHistory();\n\tconst { type } = useParams();\n\tconst reciepient = useSelector((state) => state.reciepient);\n\tconst message = useSelector((state) => state.message);\n\tconst history = useSelector((state) => state.history);\n\tconst loggedInUser = useSelector((state) => state.loggedInUser);\n\tvar server = \"https://stormy-tundra-81519.herokuapp.com/\";\n\tvar ws_server = \"wss://stormy-tundra-81519.herokuapp.com/\";\n\tvar ws = new WebSocket(ws_server + \"message\");\n\tvar buffer = [];\n\n\tconst getHistory = async () => {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\t\tvar raw = JSON.stringify({\n\t\t\tto: reciepient,\n\t\t\tfrom: loggedInUser,\n\t\t});\n\n\t\tvar requestOptions = {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: myHeaders,\n\t\t\tbody: raw,\n\t\t\tredirect: \"follow\",\n\t\t\tcredentials: \"include\",\n\t\t};\n\n\t\tawait fetch(\n\t\t\t\"https://stormy-tundra-81519.herokuapp.com/message/history\",\n\t\t\trequestOptions\n\t\t)\n\t\t\t.then((response) => response.json())\n\t\t\t.then(async (result) => {\n\t\t\t\tconsole.log(\"data from server:\", result);\n\t\t\t\tdispatch(updateHistory(result));\n\t\t\t\tconsole.log(\"history from contact: \", history);\n\t\t\t})\n\t\t\t.catch((error) => console.log(\"error\", error));\n\t};\n\n\tuseEffect(() => {\n\t\tasync function anyFunction() {\n\t\t\tws.onerror = (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t};\n\t\t\tws.onmessage = (message) => {\n\t\t\t\tconsole.log(message.data);\n\t\t\t\tgetHistory();\n\t\t\t};\n\t\t\tconst username = getCookie(\"username\");\n\t\t\tawait fetch(server + `self/${username}`, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tcredentials: \"include\",\n\t\t\t})\n\t\t\t\t.then((resp) => resp.json())\n\t\t\t\t.then(async (data) => {\n\t\t\t\t\tconsole.log(\"data from fetch(/self): \", data);\n\t\t\t\t\tdispatch(updateLoggedInUser(data.username));\n\t\t\t\t});\n\t\t}\n\t\tanyFunction();\n\t}, [loggedInUser]);\n\n\tconst Sendmessage = () => {\n\t\tconsole.log(\"Message body in websocket function:\", message);\n\t\tlet resp = JSON.stringify({\n\t\t\tfrom: loggedInUser,\n\t\t\tto: reciepient,\n\t\t\ttype: message.type,\n\t\t\tenc: message.enc,\n\t\t\ttext: message.text,\n\t\t\ttimestamp: Date.now(),\n\t\t});\n\t\tif (ws) {\n\t\t\tbuffer.forEach((message) => {\n\t\t\t\tws.send(message);\n\t\t\t});\n\t\t\tbuffer.length = 0;\n\t\t\tws.send(resp);\n\t\t} else {\n\t\t\tconsole.log(\"ws not available\");\n\t\t\tif (!buffer.includes(resp)) {\n\t\t\t\tbuffer.push(resp);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst logout = () => {\n\t\tws.close();\n\t\tfetch(\"https://stormy-tundra-81519.herokuapp.com/auth/logout\", {\n\t\t\tmethod: \"GET\",\n\t\t})\n\t\t\t.then((data) => {\n\t\t\t\thistorys.push(\"/signin\");\n\t\t\t\t// this.props.history.push(\"/signin\");\n\t\t\t\t// console.log(this.props.history);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tif (loggedInUser !== \"\") {\n\t\tswitch (type) {\n\t\t\tcase \"contacts\": {\n\t\t\t\treturn <Contacts loggedinUser={loggedInUser} logout={logout} />;\n\t\t\t}\n\t\t\tcase \"chat\": {\n\t\t\t\tif (reciepient !== undefined) {\n\t\t\t\t\treturn <Chat loggedinUser={loggedInUser} recipient={reciepient} />;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase \"recorder\": {\n\t\t\t\tif (reciepient !== undefined) {\n\t\t\t\t\treturn <Recorder sendMessage={Sendmessage} />;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default User;\n","import * as actionTypes from '../actionTypes'\n\nexport const Reciepient = (state = \"\", action) => {\n    switch(action.type) {\n        case actionTypes.UPDATE_RECPNT:\n            var n_reciepient = action.payload.reciepientName;\n            return n_reciepient;\n        default:\n            return state;\n    }\n}","import * as actionTypes from \"../actionTypes\";\nexport const Message = (state = {}, action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_MSG:\n            var new_message = action.payload;\n            return new_message;\n        default:\n            return state;\n    }\n};\n","import * as actionTypes from '../actionTypes'\n\nexport const History = (state = \"\", action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_HSTR:\n            var new_history = action.payload.history;\n            return new_history;\n        default:\n            return state;\n    }\n}","import * as actionTypes from '../actionTypes'\n\nexport const LoggedinUser = (state = \"\", action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_LGINUSR:\n            var new_logggedInUser = action.payload.loggedinUser;\n            return new_logggedInUser;\n        default:\n            return state;\n    }\n}","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Route, BrowserRouter, Switch, Redirect } from \"react-router-dom\";\nimport Signin from \"./components/Views/Signin\";\nimport Signup from \"./components/Views/Signup\";\nimport User from \"./components/Views/user/User\";\nimport { Provider } from \"react-redux\";\nimport { ConfigureStore } from \"./redux/configureStore\";\nimport { createBrowserHistory } from \"history\";\n\nconst appHistory = createBrowserHistory();\nconst store = ConfigureStore();\n\nclass App extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <BrowserRouter history={appHistory}>\n                    <Switch>\n                        <Route exact path=\"/\">\n                            <Signin />\n                        </Route>\n\n                        <Route path=\"/signup\">\n                            <Signup />\n                        </Route>\n\n                        <Route path=\"/usr/:type\">\n                            <User />\n                        </Route>\n\n                        <Redirect to=\"/\" />\n                    </Switch>\n                </BrowserRouter>\n            </Provider>\n        );\n    }\n}\n\nexport default App;\n","import { createStore, combineReducers } from \"redux\";\nimport { Reciepient } from \"./reducers/reciepient\";\nimport { Message } from \"./reducers/message\";\nimport { History } from \"./reducers/history\";\nimport { LoggedinUser } from \"./reducers/loggedInUser\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nexport const ConfigureStore = () => {\n    const store = createStore(\n        combineReducers({\n            reciepient: Reciepient,\n            message: Message,\n            history: History,\n            loggedInUser: LoggedinUser,\n        }),\n        composeWithDevTools()\n    );\n    return store;\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}